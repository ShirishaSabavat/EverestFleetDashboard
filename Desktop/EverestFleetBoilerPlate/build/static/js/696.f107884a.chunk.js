"use strict";(self.webpackChunkboiler_plate=self.webpackChunkboiler_plate||[]).push([[696],{39651:function(e,t,r){r.r(t),r.d(t,{default:function(){return L}});var a=r(29439),i=r(72791),n=r(54270),o=r(29921),l=r(26812),s=r(15861),d=r(87757),c=r.n(d),v=r(50612),u=r(70141),m=r(70895),x=r(96352),f=r(25671),p=r(19333),h=r(20135),g=r(77106),j=r(66871),b=r(19741),N=r(24625),D=r(80184),y=function(e){var t=e.selectedDriverData,r=(0,o.D)(),a=r.driverETM,i=r.setDriverETM;localStorage.setItem("driverETM",a);var n=function(e){return Math.round(1e3*e)/1e3};return(0,D.jsx)("div",{children:(0,D.jsx)("div",{className:"container-fluid",children:(0,D.jsx)(j.Z,{children:(0,D.jsx)("div",{className:"row",children:(0,D.jsx)("div",{className:"col-12",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsx)("div",{className:"col-1 p-0",children:(0,D.jsx)("img",{style:{height:"65px"},className:" border-solid rounded-full",width:"65",src:null!==t&&void 0!==t&&t.photo?"https://jarvis.everestfleet.com/media/".concat(null===t||void 0===t?void 0:t.photo):N,alt:"d"})}),(0,D.jsx)("div",{className:"col-11 pl-1.5",children:(0,D.jsxs)("div",{className:"row",children:[(0,D.jsx)("div",{className:"col-6",children:(0,D.jsxs)("div",{children:[(0,D.jsx)("h6",{className:"text-[#333333] text-md m-0",children:(null===t||void 0===t?void 0:t.driver_name)||""}),(0,D.jsxs)("p",{className:"text-[#013453] font-regular text-xs",children:["Joining date:"," ",(0,D.jsx)("span",{className:"text-[#013453] font-bold text-md",children:null===t||void 0===t?void 0:t.date_of_joining})]})]})}),(0,D.jsx)("div",{className:"col-6 d-flex flex-row justify-content-end",children:(0,D.jsxs)("div",{children:[(0,D.jsx)("h6",{className:"text-[#013453] font-bold text-md text-end m-0",children:(null===t||void 0===t?void 0:t.total_trips)||0}),(0,D.jsx)("p",{className:"text-[#013453] font-regular text-xs",children:"Total Trips"})]})}),(0,D.jsxs)("div",{className:"col-12 mb-3 d-flex flex-row",children:[(0,D.jsx)("div",{className:"h-4 pr-2.5 border-solid border-r-2 border-[#86A1A4]",children:(0,D.jsxs)("p",{className:"text-[#86A1A4] font-regular text-xs m-0",children:["Mobile No:"," ",(0,D.jsx)("span",{className:"text-[#333333] font-semibold text-xs",children:null===t||void 0===t?void 0:t.mobile})]})}),(0,D.jsx)("div",{className:"px-2.5 h-4 text-center border-solid border-r-2 border-[#86A1A4]",children:(0,D.jsxs)("p",{className:"text-[#86A1A4] font-regular text-xs m-0",children:["Employee Id:"," ",(0,D.jsx)("span",{className:"text-[#333333] font-semibold text-xs",children:(0,D.jsx)(b.rU,{onClick:function(){var e;e=null===t||void 0===t?void 0:t.employee_id,localStorage.setItem("driverETM",e),i(e)},className:"no-underline font-semibold bg-[#ffffff] text-xs hover:bg-[#fff345]",to:"/home/driverHisaabData",target:"_blank",children:null===t||void 0===t?void 0:t.employee_id})})]})}),(0,D.jsx)("div",{className:"h-4 px-2.5 text-center border-solid border-r-2 border-[#86A1A4]",children:(0,D.jsxs)("p",{className:"text-[#86A1A4] font-regular text-xs m-0",children:["Last Car No:"," ",(0,D.jsx)("span",{className:"text-[#333333] font-semibold text-xs",children:(null===t||void 0===t?void 0:t.last_car_number)||""})]})}),(0,D.jsx)("div",{className:"h-4 px-2.5 text-center",children:(0,D.jsxs)("p",{className:"text-[#86A1A4] font-regular text-xs m-0",children:["Days Worked:"," ",(0,D.jsx)("span",{className:"text-[#333333] font-semibold text-xs",children:null===t||void 0===t?void 0:t.days_worked})]})})]})]})}),(0,D.jsx)("hr",{className:"mt-0 mb-0 text-[#86A1A4]"}),(0,D.jsxs)("div",{className:"col-2 px-2 pt-2 pb-1 text-center border-solid border-r-2 border-[#86A1A4]",children:[(0,D.jsx)("h6",{className:"text-xs text-[#333333] font-semibold m-0",children:(null===t||void 0===t?void 0:t.target_trip)||0}),(0,D.jsx)("p",{className:"text-xs text-[#86A1A4] m-0",children:"Target Trips"})]}),(0,D.jsxs)("div",{className:"col-2 p-2 pb-1 text-center border-solid border-r-2 border-[#86A1A4]",children:[(0,D.jsx)("h6",{className:"text-xs text-[#333333] font-semibold m-0",children:(null===t||void 0===t?void 0:t.balance_trip)>0?null===t||void 0===t?void 0:t.balance_trip:0}),(0,D.jsx)("p",{className:"text-xs text-[#86A1A4] m-0",children:"Balance Trips"})]}),(0,D.jsxs)("div",{className:"col-2 p-2 pb-1 text-center border-solid border-r-2 border-[#86A1A4]",children:[(0,D.jsxs)("h6",{className:"text-xs text-[#333333] font-semibold m-0",children:[null!==t&&void 0!==t&&t.total_online_hours?n(null===t||void 0===t?void 0:t.total_online_hours).toFixed(1):0," ","hrs"]}),(0,D.jsx)("p",{className:"text-xs text-[#86A1A4] m-0",children:"Total Online Hours"})]}),(0,D.jsxs)("div",{className:"col-2 p-2 pb-1 text-center border-solid border-r-2 border-[#86A1A4]",children:[(0,D.jsxs)("h6",{className:(null===t||void 0===t||!t.outstating)&&Number(null===t||void 0===t?void 0:t.outstating)<0?"text-[#FF0000] text-xs font-semibold m-0":"text-[#333333] text-xs font-semibold m-0",children:["\u20b9"," ",null!==t&&void 0!==t&&t.outstating?n(null===t||void 0===t?void 0:t.outstating).toFixed(1):0]}),(0,D.jsx)("p",{className:"text-xs text-[#86A1A4] m-0",children:"Outstanding"})]}),(0,D.jsxs)("div",{className:"col-2 p-2 pb-1 text-center border-solid border-r-2 border-[#86A1A4]",children:[(0,D.jsx)("h6",{className:"text-xs text-[#333333] font-semibold m-0",children:null!==t&&void 0!==t&&t.dead_km?null===t||void 0===t?void 0:t.dead_km.toUpperCase():""}),(0,D.jsx)("p",{className:"text-xs text-[#86A1A4] m-0",children:"Dead KMS"})]}),(0,D.jsxs)("div",{className:"col-2 p-2 pb-1 text-center",children:[(0,D.jsxs)("h6",{className:"text-xs text-[#333333] font-semibold m-0",children:["\u20b9"," ",null!==t&&void 0!==t&&t.total_revenue?n(null===t||void 0===t?void 0:t.total_revenue).toFixed(1):0]}),(0,D.jsx)("p",{className:"text-xs text-[#86A1A4] m-0",children:"Total Revenue"})]}),(0,D.jsx)("hr",{className:"mt-0 mb-0 text-[#86A1A4]"})]})})})})})})},C=r(1413),A=r(50338),S=r(85639),w=r(49199),Z=r(42460),k=r(40816),O=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]])}return r},_=(0,i.forwardRef)((function(e,t){var r=e.chartRef,a=e.style,n=void 0===a?{height:"inherit"}:a,o=e.className,l=e.loading,s=e.loadingTemplate,d=e.errorTemplate,c=O(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=(0,S.Z)(A.$Q,c),u=v.chart,m=v.container;return(0,i.useEffect)((function(){(0,w.J)(r,u.current)}),[u.current]),(0,i.useImperativeHandle)(t,(function(){return{getChart:function(){return u.current}}})),i.createElement(Z.Z,{errorTemplate:d},l&&i.createElement(k.Z,{loadingTemplate:s,theme:e.theme}),i.createElement("div",{className:o,style:n,ref:m}))})),R=function(e){var t={data:e.driverDailyData.map((function(e){return{type:"".concat(null===e||void 0===e?void 0:e.date),sales:Number((null===e||void 0===e?void 0:e.online_hours)||0),name:"".concat(null===e||void 0===e?void 0:e.online_hours," hrs / ").concat(null===e||void 0===e?void 0:e.trips," Trips")}})),xField:"sales",yField:"type",seriesField:"name",legend:!1,color:function(e){return 0===e.sales?"#FC2109":"#37BDC8"},label:{style:{fill:"#013453",fontSize:18,fontWeight:"bold"},rotate:!1,position:"left",content:function(e){return null===e||void 0===e?void 0:e.name}},barBackground:{style:{fill:"rgba(0,0,0,0.1)"}},interactions:[{type:"active-region",enable:!1}]};return(0,D.jsx)("div",{children:(0,D.jsx)("div",{className:"container",children:(0,D.jsx)(j.Z,{children:(0,D.jsx)("div",{className:"row",children:(0,D.jsx)("div",{className:"col-12",children:(0,D.jsx)(_,(0,C.Z)({style:{height:"300px"}},t))})})})})})},T=function(e){var t=e.driverRating,r=e.driverRatingName,n=e.driverList,l=void 0===n?[]:n,s=e.driverDailyData,d=e.selectedDriverData,c=e.setSelectedDriverData,v=e.onSearchCar,u=e.cRSearchValue,m=f.Z.Header,x=f.Z.Content,j=f.Z.Sider,b=(0,o.D)(),C=b.driverID,A=b.setDriverID,S=(0,i.useState)(!1),w=(0,a.Z)(S,2),Z=w[0],k=w[1],O=null===l||void 0===l?void 0:l.filter((function(e){var t=e.driver_name;return"".concat(t).toLowerCase().includes(u.toLowerCase())}));return(0,D.jsx)("div",{children:(0,D.jsxs)(f.Z,{children:[(0,D.jsxs)(j,{style:{overflowX:"hidden",overflowY:"scroll",height:"640px"},breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)},children:[(0,D.jsx)("div",{className:"logo"}),(0,D.jsxs)(p.Z,{theme:"light",selectedKeys:[C.carCode],children:[(0,D.jsx)("div",{className:"px-3 pt-3 pb-2.5",children:(0,D.jsx)(h.Z,{size:"medium",placeholder:"Search",prefix:(0,D.jsx)("img",{className:"mr-3",src:"/assets/images/general/loupe.svg",alt:"search",width:"12"}),className:"w-100",suffix:Z&&(0,D.jsx)(g.Z,{}),bordered:!0,onChange:function(e){return function(e){v(e),k(!0),setTimeout((function(){return k(!1)}),1e3)}(e.target.value)},value:u})}),null===O||void 0===O?void 0:O.map((function(e,t){return(0,D.jsx)(p.Z.Item,{onClick:function(){return function(e,t){A({driverIDValue:null===e||void 0===e?void 0:e.driver_id,carCode:t.toString()}),c(e)}(e,t)},children:(0,D.jsxs)("div",{className:"flex flex-row",children:[(0,D.jsx)("img",{style:{height:"30px"},width:"30",className:"mt-0.5 mr-2 border-solid rounded-full",src:null!==e&&void 0!==e&&e.photo?"https://jarvis.everestfleet.com/media/".concat(null===e||void 0===e?void 0:e.photo):N,alt:"D"}),(0,D.jsxs)("h6",{className:"mt-1 text-xs text-[#333333]",children:[null===e||void 0===e?void 0:e.driver_name,(0,D.jsx)("br",{}),(0,D.jsxs)("span",{className:"text-[#86A1A4]",children:["Total Trips:"," ",(0,D.jsx)("span",{className:"text-[#333333]",children:null===e||void 0===e?void 0:e.total_trips})]})]})]})},t.toString())}))]})]}),(0,D.jsxs)(f.Z,{children:[(0,D.jsxs)(m,{className:"site-layout-sub-header-background text-[#333333] font-bold text-sm",style:{paddingLeft:20},children:[r," ",(0,D.jsxs)("span",{className:"text-[#37BDC8]",children:["(",t,")"]})]}),(0,D.jsxs)(x,{style:{margin:"16px 0 0"},children:[(0,D.jsx)("div",{className:"site-layout-background",style:{minHeight:110,marginBottom:"10px"},children:(0,D.jsx)(y,{selectedDriverData:d})}),(0,D.jsx)("div",{className:"site-layout-background",style:{minHeight:100},children:(0,D.jsx)(R,{driverDailyData:s})})]})]})]})})},P=(r(15646),u.Z.TabPane),I=new Promise((function(e){setTimeout((function(){return e()}),1e3)})),E=(0,v.Z)((function(e){var t=e.pageState,r=e.setPageState,n=e.pikerCount,l=e.laggardCount,d=e.mediocreCount,v=e.performerCount,f=e.outperformerCount,p=e.newCount,h=(0,o.D)(),g=h.teamID,j=h.driverID,b=h.setDriverID,N=(0,x.m)().calenderDate,y=(0,i.useState)([]),C=(0,a.Z)(y,2),A=C[0],S=void 0===A?[]:A,w=C[1],Z=(0,i.useState)([]),k=(0,a.Z)(Z,2),O=k[0],_=void 0===O?[]:O,R=k[1],E=(0,i.useState)("New"),L=(0,a.Z)(E,2),F=L[0],M=void 0===F?"":F,V=L[1],W=(0,i.useState)({}),H=(0,a.Z)(W,2),B=H[0],K=void 0===B?{}:B,z=H[1],J=(0,i.useState)(),U=(0,a.Z)(J,2),X=U[0],Y=void 0===X?"":X,q=U[1];localStorage.setItem("startOfWeek",N.startOfWeek),localStorage.setItem("endOfWeek",N.endOfWeek);var Q=function(e){q(e)},$=function(){var e=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I;case 3:r("loaded"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r("error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){$(),(0,m.lO)(M,g,N).then((function(e){var t,r;w(e.data),b({driverIDValue:(null===(t=e.data[0])||void 0===t?void 0:t.driver_id)||"",carCode:"0"}),z(null===(r=e.data)||void 0===r?void 0:r[0])})).catch((function(e){console.log(e)}))}),[g,N,M]),(0,i.useEffect)((function(){$(),(0,m.Om)(j.driverIDValue||0,M,g,N).then((function(e){R(null===e||void 0===e?void 0:e.data)})).catch((function(e){console.log(e)}))}),[j,M,g,N]),"loading"===t||"error"===t?null:(0,D.jsx)("div",{style:{fontFamily:"montserrat"},children:(0,D.jsxs)(u.Z,{defaultActiveKey:"1",onChange:function(e){V(e),q("")},children:[(0,D.jsx)(P,{tab:"New (".concat(p,")"),children:(0,D.jsx)(T,{driverRating:p,driverRatingName:"New",driverList:S,driverDailyData:_,selectedDriverData:K,setSelectedDriverData:z,onSearchCar:Q,cRSearchValue:Y})},"New"),(0,D.jsx)(P,{tab:"Piker (".concat(n,")"),children:(0,D.jsx)(T,{driverRating:n,driverRatingName:"Piker",driverList:S,driverDailyData:_,selectedDriverData:K,setSelectedDriverData:z,onSearchCar:Q,cRSearchValue:Y})},"Piker"),(0,D.jsx)(P,{tab:"Laggard (".concat(l,")"),children:(0,D.jsx)(T,{driverRating:l,driverRatingName:"Laggard",driverList:S,driverDailyData:_,selectedDriverData:K,setSelectedDriverData:z,onSearchCar:Q,cRSearchValue:Y})},"Laggard"),(0,D.jsx)(P,{tab:"Mediocre (".concat(d,")"),children:(0,D.jsx)(T,{driverRating:d,driverRatingName:"Mediocre",driverList:S,driverDailyData:_,selectedDriverData:K,setSelectedDriverData:z,onSearchCar:Q,cRSearchValue:Y})},"Mediocre"),(0,D.jsx)(P,{tab:"Performer (".concat(v,")"),children:(0,D.jsx)(T,{driverRating:v,driverRatingName:"Performer",driverList:S,driverDailyData:_,selectedDriverData:K,setSelectedDriverData:z,onSearchCar:Q,cRSearchValue:Y})},"Performer"),(0,D.jsx)(P,{tab:"Outperformer (".concat(f,")"),children:(0,D.jsx)(T,{driverRating:f,driverRatingName:"Outperformer",driverList:S,driverDailyData:_,selectedDriverData:K,setSelectedDriverData:z,onSearchCar:Q,cRSearchValue:Y})},"Outperformer")]})})})),L=function(){var e=(0,o.D)().teamID,t=(0,l.C)().dayCalenderDate,r=(0,i.useState)(),s=(0,a.Z)(r,2),d=s[0],c=s[1],v=(0,i.useState)(),u=(0,a.Z)(v,2),x=u[0],f=u[1],p=(0,i.useState)(),h=(0,a.Z)(p,2),g=h[0],j=h[1],b=(0,i.useState)(),N=(0,a.Z)(b,2),y=N[0],C=N[1],A=(0,i.useState)(),S=(0,a.Z)(A,2),w=S[0],Z=S[1],k=(0,i.useState)(),O=(0,a.Z)(k,2),_=O[0],R=O[1],T=(0,i.useState)(),P=(0,a.Z)(T,2),I=P[0],L=P[1];return(0,i.useEffect)((function(){(0,m.us)(e,t).then((function(e){var t,r,a,i,n,o,l;c(null===(t=e.data)||void 0===t?void 0:t.total_driver),f(null===(r=e.data)||void 0===r?void 0:r.piker),j(null===(a=e.data)||void 0===a?void 0:a.laggard),C(null===(i=e.data)||void 0===i?void 0:i.mediocre),Z(null===(n=e.data)||void 0===n?void 0:n.performer),R(null===(o=e.data)||void 0===o?void 0:o.outperformer),L(null===(l=e.data)||void 0===l?void 0:l.new)})).catch((function(e){console.log(e)}))}),[e,t]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(n.q,{title:"Performance"}),(0,D.jsxs)("div",{style:{fontFamily:"montserrat",paddingLeft:"5px"},className:"container flex flex-col mt-2 mb-4",children:[(0,D.jsxs)("div",{className:"row mt-5 mb-0 pl-2 pr-10",children:[(0,D.jsx)("div",{className:"col-6",children:(0,D.jsx)("h3",{className:"font-bold text-[#333333] text-2xl pl-0",children:"Performance Report"})}),(0,D.jsx)("div",{className:"col-6 d-flex flex-row justify-content-end text-end",children:(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{className:"text-[#86A1A4] font-medium text-xs m-0",children:"Total Drivers"}),(0,D.jsx)("p",{className:"text-[#013453] font-semibold text-lg m-0",children:d||0})]})})]}),(0,D.jsx)(E,{pikerCount:x||0,laggardCount:g||0,mediocreCount:y||0,performerCount:w||0,outperformerCount:_||0,newCount:I||0})]})]})}},39885:function(e,t,r){r.d(t,{Z:function(){return x}});var a=r(4942),i=r(29439),n=r(45987),o=r(72791),l=r(85903),s=r(81694),d=r.n(s),c={adjustX:1,adjustY:1},v=[0,0],u={topLeft:{points:["bl","tl"],overflow:c,offset:[0,-4],targetOffset:v},topCenter:{points:["bc","tc"],overflow:c,offset:[0,-4],targetOffset:v},topRight:{points:["br","tr"],overflow:c,offset:[0,-4],targetOffset:v},bottomLeft:{points:["tl","bl"],overflow:c,offset:[0,4],targetOffset:v},bottomCenter:{points:["tc","bc"],overflow:c,offset:[0,4],targetOffset:v},bottomRight:{points:["tr","br"],overflow:c,offset:[0,4],targetOffset:v}};var m=o.forwardRef((function(e,t){var r=e.arrow,s=void 0!==r&&r,c=e.prefixCls,v=void 0===c?"rc-dropdown":c,m=e.transitionName,x=e.animation,f=e.align,p=e.placement,h=void 0===p?"bottomLeft":p,g=e.placements,j=void 0===g?u:g,b=e.getPopupContainer,N=e.showAction,D=e.hideAction,y=e.overlayClassName,C=e.overlayStyle,A=e.visible,S=e.trigger,w=void 0===S?["hover"]:S,Z=(0,n.Z)(e,["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"]),k=o.useState(),O=(0,i.Z)(k,2),_=O[0],R=O[1],T="visible"in e?A:_,P=o.useRef(null);o.useImperativeHandle(t,(function(){return P.current}));var I=function(){var t=e.overlay;return"function"===typeof t?t():t},E=function(t){var r=e.onOverlayClick,a=I().props;R(!1),r&&r(t),a.onClick&&a.onClick(t)},L=function(){var e=I(),t={prefixCls:"".concat(v,"-menu"),onClick:E};return"string"===typeof e.type&&delete t.prefixCls,o.createElement(o.Fragment,null,s&&o.createElement("div",{className:"".concat(v,"-arrow")}),o.cloneElement(e,t))},F=D;return F||-1===w.indexOf("contextMenu")||(F=["click"]),o.createElement(l.Z,Object.assign({},Z,{prefixCls:v,ref:P,popupClassName:d()(y,(0,a.Z)({},"".concat(v,"-show-arrow"),s)),popupStyle:C,builtinPlacements:j,action:w,showAction:N,hideAction:F||[],popupPlacement:h,popupAlign:f,popupTransitionName:m,popupAnimation:x,popupVisible:T,stretch:function(){var t=e.minOverlayWidthMatchTrigger,r=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!r}()?"minWidth":"",popup:"function"===typeof e.overlay?L:L(),onPopupVisibleChange:function(t){var r=e.onVisibleChange;R(t),"function"===typeof r&&r(t)},getPopupContainer:b}),function(){var t=e.children,r=t.props?t.props:{},a=d()(r.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(v,"-open")}());return _&&t?o.cloneElement(t,{className:a}):t}())})),x=m},24625:function(e,t,r){e.exports=r.p+"static/media/blankImg.ca882e941970281490d1.png"}}]);
//# sourceMappingURL=696.f107884a.chunk.js.map