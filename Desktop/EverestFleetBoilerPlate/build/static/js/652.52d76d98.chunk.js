"use strict";(self.webpackChunkboiler_plate=self.webpackChunkboiler_plate||[]).push([[652],{50612:function(e,t,n){var r=n(1413),a=n(29439),c=n(77106),o=n(72791),i=n(4964),u=n(71217),d=n(80184);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.loadingImgPath,l=void 0===n?"assets/images/page/loading-page-1.svg":n,s=t.errorImgPath,f=void 0===s?"assets/images/page/error-page-1.svg":s,m=t.loadingMessage,p=void 0===m?"Loading page...please standby.":m,v=t.errorMessage,h=void 0===v?"Error Loading...rest assured we are working on it.":v,k=function(t){var n=(0,o.useState)("loading"),s=(0,a.Z)(n,2),m=s[0],v=s[1];return(0,d.jsxs)(d.Fragment,{children:["loading"===m&&(0,d.jsxs)("div",{className:"w-full flex flex-col justify-center items-center space-y-4",style:{fontFamily:"montserrat",height:"calc(100vh - 228px)",minHeight:450},children:[(0,d.jsx)("img",{src:l,alt:"loading!",width:"300"}),(0,d.jsxs)("div",{className:"text-eep-gray flex items-center space-x-3",children:[(0,d.jsx)(c.Z,{className:"text-purple-dark"}),(0,d.jsx)("span",{className:"font-mulish-semi-bold",children:p})]})]}),"error"===m&&(0,d.jsxs)("div",{className:"w-full flex flex-col justify-center items-center space-y-4",style:{height:"calc(100vh - 228px)",minHeight:450},children:[(0,d.jsx)("img",{src:f,alt:"loading!",width:"300"}),(0,d.jsx)("span",{className:"text-red-500 font-mulish-semi-bold",children:h}),(0,d.jsx)(i.Z,{type:"primary",onClick:function(){return u.m.push("/home/dashboard")},children:"Take me to Dashboard"})]}),(0,d.jsx)(e,(0,r.Z)((0,r.Z)({},t),{},{setPageState:v,pageState:m}))]})};return k}},24652:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(54270),a=n(15861),c=n(29439),o=n(87757),i=n.n(o),u=n(20135),d=n(33924),l=n(72791),s=n(70895),f=n(29921),m=n(50612),p=n(72426),v=n.n(p),h=n(80184),k=new Promise((function(e){setTimeout((function(){return e()}),3e3)})),g=(0,m.Z)((function(e){var t=e.pageState,n=e.setPageState,r=(0,f.D)().teamID,o=(0,l.useState)([]),m=(0,c.Z)(o,2),p=m[0],g=m[1],y=(0,l.useState)(""),x=(0,c.Z)(y,2),_=x[0],w=x[1],D=[{title:"Driver Name",dataIndex:"driverName",key:"driverName",align:"center",render:function(e){return{props:{style:{padding:"0px",fontStyle:"Montserrat",fontWeight:"500",color:"#333333"}},children:(0,h.jsx)("div",{children:e})}}},{title:"Employee Id",dataIndex:"employeeId",key:"employeeId",align:"center"},{title:"(".concat(v()().startOf("isoweek").subtract(1,"week").format("D")," - ").concat(v()().endOf("isoweek").subtract(1,"week").format("D MMM YYYY"),")"),children:[{title:"Trip",dataIndex:"trip1",key:"trip1",align:"center"},{title:"Ratings",dataIndex:"ratings1",key:"ratings1",align:"center",render:function(e){return{props:{style:{fontStyle:"Montserrat",color:"#013453",fontSize:"13px",fontWeight:"600",opacity:1}},children:(0,h.jsx)("div",{children:e})}}}]},{title:"(".concat(v()().startOf("isoweek").subtract(2,"week").format("D")," - ").concat(v()().endOf("isoweek").subtract(2,"week").format("D MMM YYYY"),")"),children:[{title:"Trip",dataIndex:"trip2",key:"trip2",align:"center"},{title:"Ratings",dataIndex:"ratings2",key:"ratings2",align:"center",render:function(e){return{props:{style:{fontStyle:"Montserrat",color:"#013453",fontSize:"13px",fontWeight:"600",opacity:1}},children:(0,h.jsx)("div",{children:e})}}}]},{title:"(".concat(v()().startOf("isoweek").subtract(3,"week").format("D")," - ").concat(v()().endOf("isoweek").subtract(3,"week").format("D MMM YYYY"),")"),children:[{title:"Trip",dataIndex:"trip3",key:"trip3",align:"center"},{title:"Ratings",dataIndex:"ratings3",key:"ratings3",align:"center",render:function(e){return{props:{style:{fontStyle:"Montserrat",color:"#013453",fontSize:"13px",fontWeight:"600",opacity:1}},children:(0,h.jsx)("div",{children:e})}}}]},{title:"(".concat(v()().startOf("isoweek").subtract(4,"week").format("D")," - ").concat(v()().endOf("isoweek").subtract(4,"week").format("D MMM YYYY"),")"),children:[{title:"Trip",dataIndex:"trip4",key:"trip4",align:"center"},{title:"Ratings",dataIndex:"ratings4",key:"ratings4",align:"center",render:function(e){return{props:{style:{fontStyle:"Montserrat",color:"#013453",fontSize:"13px",fontWeight:"600",opacity:1}},children:(0,h.jsx)("div",{children:e})}}}]}],O=function(){var e=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k;case 3:n("loaded"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n("error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){O(),(0,s.JL)(r).then((function(e){g(null===e||void 0===e?void 0:e.data)})).catch((function(e){console.log("err",e)}))}),[r]);var W=p.filter((function(e){var t=e.employee_id;return"".concat(t).toLowerCase().includes(_.toLowerCase())})),T=null===W||void 0===W?void 0:W.map((function(e,t){var n,r,a,c,o,i,u,d,l;return null===e||void 0===e||null===(n=e.mobile)||void 0===n||n.map((function(e){"last week"===(null===e||void 0===e?void 0:e.week_period)&&(r=(null===e||void 0===e?void 0:e.total_trips)||0,a=null===e||void 0===e?void 0:e.driver_rating),"2nd week"===(null===e||void 0===e?void 0:e.week_period)&&(c=(null===e||void 0===e?void 0:e.total_trips)||0,o=null===e||void 0===e?void 0:e.driver_rating),"3rd week"===(null===e||void 0===e?void 0:e.week_period)&&(i=(null===e||void 0===e?void 0:e.total_trips)||0,u=null===e||void 0===e?void 0:e.driver_rating),"4th week"===(null===e||void 0===e?void 0:e.week_period)&&(d=(null===e||void 0===e?void 0:e.total_trips)||0,l=null===e||void 0===e?void 0:e.driver_rating)})),{key:t,driverName:null===e||void 0===e?void 0:e.driver_name,employeeId:null===e||void 0===e?void 0:e.employee_id,trip1:r,ratings1:a,trip2:c,ratings2:o,trip3:i,ratings3:u,trip4:d,ratings4:l}}));return"loading"===t||"error"===t?null:(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"flex flex-row justify-end mb-3",children:(0,h.jsx)(u.Z,{size:"medium",placeholder:"Enter ETM Id",prefix:(0,h.jsx)("img",{className:"text-[#333333]",src:"/assets/images/general/loupe.svg",alt:"search",width:"12"}),style:{width:"320px"},className:"bg-[#F1F0F1] text-[#333333]",bordered:!0,onChange:function(e){return function(e){w(e)}(e.target.value)}})}),(0,h.jsx)(d.Z,{columns:D,dataSource:T,pagination:!1,bordered:!0})]})})),y=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.q,{title:"Dashboard"}),(0,h.jsxs)("div",{style:{fontFamily:"montserrat"},className:"flex flex-col pl-3 pr-10 mb-4",children:[(0,h.jsx)("div",{className:"mt-5 mb-0",children:(0,h.jsx)("span",{className:"font-bold text-[#333333] text-2xl",children:"Driver Rating Report"})}),(0,h.jsx)(g,{})]})]})}},70895:function(e,t,n){n.d(t,{C3:function(){return u},Bq:function(){return d},Ud:function(){return l},bt:function(){return s},Yx:function(){return f},f4:function(){return m},oj:function(){return p},QT:function(){return v},a5:function(){return h},VX:function(){return k},SM:function(){return g},aC:function(){return y},fn:function(){return x},d:function(){return _},d8:function(){return w},us:function(){return D},lO:function(){return O},Om:function(){return W},Ai:function(){return T},zX:function(){return E},Xz:function(){return I},o0:function(){return b},kN:function(){return G},JL:function(){return j},nk:function(){return M},o:function(){return V},$p:function(){return N},vD:function(){return S},vB:function(){return Y},tf:function(){return B},WG:function(){return Z},yz:function(){return z}});var r=n(1413),a=n(74569),c=n(88329),o=(n(71217),{Authorization:"Token ".concat(c.Z.get("token"))}),i=function(e){var t=e.url,n=e.method,c=e.headers,i=void 0===c?{}:c;try{return a({url:"".concat("https://jarvis.everestfleet.com").concat(t),method:n,headers:(0,r.Z)((0,r.Z)({},o),i)})}catch(u){return u}},u=function(){return i({url:"/fleet/api/teamApi/",method:"GET"})},d=function(e,t){var n=e.teamIDValue,r=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/hisaab_summary/".concat(n,",").concat(r,",").concat(a,"/"),method:"GET"})},l=function(e,t){var n=e.teamIDValue,r=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/hisaab_driveros/".concat(n,",").concat(r,",").concat(a,"/"),method:"GET"})},s=function(e,t){var n=e.teamIDValue,r=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/highos/".concat(n,",").concat(r,",").concat(a,"/"),method:"GET"})},f=function(e,t){var n=e.teamIDValue,r=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/recover_amt/".concat(n,",").concat(r,",").concat(a,"/"),method:"GET"})},m=function(e,t){var n=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/weekly_hisaab/".concat(e,",").concat(n,",").concat(r,"/"),method:"GET"})},p=function(e){return i({url:"/api/driver_weekly_data/".concat(e,"/"),method:"GET"})},v=function(e,t){var n=e.teamIDValue,r=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/car_summary/".concat(n,",").concat(r,",").concat(a,"/"),method:"GET"})},h=function(e,t){var n=e.startOfWeek,r=e.endOfWeek,a=t.cityIDValue;return i({url:"/api/incentive/".concat(n,",").concat(r,",").concat(a,"/"),method:"GET"})},k=function(e,t){var n=e.teamIDValue,r=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/car_inctive/".concat(n,",").concat(r,",").concat(a,"/"),method:"GET"})},g=function(e,t){var n=e.teamIDValue,r=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/car_status_weekly/".concat(n,",").concat(r,",").concat(a,"/"),method:"GET"})},y=function(e,t){var n=e.teamIDValue,r=t.day;return i({url:"/api/car_status/".concat(n,",").concat(r,"/"),method:"GET"})},x=function(e,t,n){var r=t.teamIDValue,a=n.day;return i({url:"/api/cardaily/".concat(e,",").concat(r,",").concat(a,",").concat(a,"/"),method:"GET"})},_=function(e,t,n,r){var a=t.carNumberValue,c=n.teamIDValue,o=r.startOfWeek,u=r.endOfWeek;return i({url:"/api/carweekly/".concat(e,",").concat(a,",").concat(c,",").concat(o,",").concat(u,"/"),method:"GET"})},w=function(e,t,n){var r=t.teamIDValue,a=n.startOfWeek,c=n.endOfWeek;return i({url:"/api/cardaily/".concat(e,",").concat(r,",").concat(a,",").concat(c,"/"),method:"GET"})},D=function(e,t){var n=e.teamIDValue,r=t.day;return i({url:"/api/driver_rating/".concat(n,",").concat(r,"/"),method:"GET"})},O=function(e,t,n){var r=t.teamIDValue,a=n.startOfWeek,c=n.endOfWeek;return i({url:"/api/driver_weekly/".concat(e,",").concat(r,",").concat(a,",").concat(c,"/"),method:"GET"})},W=function(e,t,n,r){var a=n.teamIDValue,c=r.startOfWeek,o=r.endOfWeek;return i({url:"/api/driver_daily/".concat(t,",").concat(a,",").concat(c,",").concat(o,",").concat(e,"/"),method:"GET"})},T=function(e,t){var n=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/weekly_report/".concat(e,",").concat(n,",").concat(r,"/"),method:"GET"})},E=function(e,t){var n=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/weekly_report/uberkm/".concat(e,",").concat(n,",").concat(r,"/"),method:"GET"})},I=function(e,t){var n=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/weekly_campare/".concat(e,",").concat(n,",").concat(r,"/"),method:"GET"})},b=function(e,t){var n=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/weekly_campare/uberkm/".concat(e,",").concat(n,",").concat(r,"/"),method:"GET"})},G=function(e,t){var n=e.teamIDValue,r=t.day;return i({url:"/api/dead_km/".concat(n,",").concat(r,"/"),method:"GET"})},j=function(e){var t=e.teamIDValue;return i({url:"/api/driver_report/".concat(t,"/"),method:"GET"})},M=function(e){return i({url:"/api/etm_summary/".concat(e,"/"),method:"GET"})},V=function(e){return i({url:"/api/monthly_report/".concat(e,"/"),method:"GET"})},N=function(e){return i({url:"/api/etm_cars/".concat(e,"/"),method:"GET"})},S=function(e){return i({url:"/api/driver_p/".concat(e,"/"),method:"GET"})},Y=function(e){return i({url:"/api/driver_rto/".concat(e,"/"),method:"GET"})},B=function(e){return i({url:"/api/daily_deadkm/".concat(e,"/"),method:"GET"})},Z=function(e,t,n){var r=e.startOfWeek,a=e.endOfWeek,c=t.teamIDValue,o=n.day1,u=n.day2,d=n.day3,l=n.day4,s=n.day5,f=n.day6,m=n.day7;return i({url:"/fleet/driver_report?start_date=".concat(r,"+&end_date=").concat(a,"+&team_id=").concat(c,"&dates%5B%5D=").concat(o,"+&dates%5B%5D=").concat(u,"+&dates%5B%5D=").concat(d,"+&dates%5B%5D=").concat(l,"+&dates%5B%5D=").concat(s,"+&dates%5B%5D=").concat(f,"+&dates%5B%5D=").concat(m,"+"),method:"GET"})},z=function(e,t,n){var r=e.startOfWeek,a=e.endOfWeek,c=t.teamIDValue,o=n.day1,u=n.day2,d=n.day3,l=n.day4,s=n.day5,f=n.day6,m=n.day7;return i({url:"/fleet/car_report?start_date=".concat(r,"+&end_date=").concat(a,"+&team_id=").concat(c,"&dates%5B%5D=").concat(o,"+&dates%5B%5D=").concat(u,"+&dates%5B%5D=").concat(d,"+&dates%5B%5D=").concat(l,"+&dates%5B%5D=").concat(s,"+&dates%5B%5D=").concat(f,"+&dates%5B%5D=").concat(m,"+"),method:"GET"})}}}]);
//# sourceMappingURL=652.52d76d98.chunk.js.map