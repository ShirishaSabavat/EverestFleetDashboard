"use strict";(self.webpackChunkboiler_plate=self.webpackChunkboiler_plate||[]).push([[615],{50612:function(e,t,n){var a=n(1413),r=n(29439),c=n(77106),o=n(72791),i=n(4964),u=n(71217),d=n(80184);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.loadingImgPath,l=void 0===n?"assets/images/page/loading-page-1.svg":n,s=t.errorImgPath,f=void 0===s?"assets/images/page/error-page-1.svg":s,m=t.loadingMessage,p=void 0===m?"Loading page...please standby.":m,v=t.errorMessage,h=void 0===v?"Error Loading...rest assured we are working on it.":v,y=function(t){var n=(0,o.useState)("loading"),s=(0,r.Z)(n,2),m=s[0],v=s[1];return(0,d.jsxs)(d.Fragment,{children:["loading"===m&&(0,d.jsxs)("div",{className:"w-full flex flex-col justify-center items-center space-y-4",style:{fontFamily:"montserrat",height:"calc(100vh - 228px)",minHeight:450},children:[(0,d.jsx)("img",{src:l,alt:"loading!",width:"300"}),(0,d.jsxs)("div",{className:"text-eep-gray flex items-center space-x-3",children:[(0,d.jsx)(c.Z,{className:"text-purple-dark"}),(0,d.jsx)("span",{className:"font-mulish-semi-bold",children:p})]})]}),"error"===m&&(0,d.jsxs)("div",{className:"w-full flex flex-col justify-center items-center space-y-4",style:{height:"calc(100vh - 228px)",minHeight:450},children:[(0,d.jsx)("img",{src:f,alt:"loading!",width:"300"}),(0,d.jsx)("span",{className:"text-red-500 font-mulish-semi-bold",children:h}),(0,d.jsx)(i.Z,{type:"primary",onClick:function(){return u.m.push("/home/dashboard")},children:"Take me to Dashboard"})]}),(0,d.jsx)(e,(0,a.Z)((0,a.Z)({},t),{},{setPageState:v,pageState:m}))]})};return y}},98615:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(54270),r=n(15861),c=n(29439),o=n(87757),i=n.n(o),u=n(20135),d=n(33924),l=n(72791),s=n(70895),f=n(26812),m=n(29921),p=n(50612),v=n(80184),h=new Promise((function(e){setTimeout((function(){return e()}),3e3)})),y=[{title:"Car No.",dataIndex:"carNo",key:"carNo",align:"center",render:function(e){return{props:{style:{fontStyle:"Montserrat",color:"#86A1A4",fontWeight:"600",opacity:1}},children:(0,v.jsx)("div",{children:e})}}},{title:"Name",dataIndex:"name",key:"name",align:"center",render:function(e){return{props:{style:{padding:"0px"}},children:(0,v.jsx)("div",{children:e})}}},{title:"Contact No.",dataIndex:"contactNo",key:"contactNo",align:"center"},{title:"Employee Id",dataIndex:"employeeId",key:"employeeId",align:"center"},{title:"GPS KMs",dataIndex:"gpsKms",key:"gpsKms",align:"center"},{title:"Duty",dataIndex:"duty",key:"duty",align:"center"},{title:"Uber KMs",dataIndex:"uberKms",key:"uberKms",align:"center"},{title:"Trips",dataIndex:"trips",key:"trips",align:"center"},{title:"Dead KMs",dataIndex:"deadKms",key:"deadKms",align:"center"},{title:"Flags",dataIndex:"flags",key:"flags",align:"center",render:function(e,t){return{props:{style:{color:"YES"===t.flags?"#73A235":"#FC2109",padding:"6px",fontWeight:"600"}},children:(0,v.jsx)("div",{className:"rounded-xl px-2 py-1",style:{backgroundColor:"YES"===t.flags?"#F0FBE2":"#FEF0F5"},children:e})}}}],k=(0,p.Z)((function(e){var t=e.pageState,n=e.setPageState,a=(0,m.D)().teamID,o=(0,f.C)().dayCalenderDate,p=(0,l.useState)([]),k=(0,c.Z)(p,2),g=k[0],x=k[1],_=(0,l.useState)(""),D=(0,c.Z)(_,2),E=D[0],W=D[1],O=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h;case 3:n("loaded"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n("error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){O(),(0,s.kN)(a,o).then((function(e){x(null===e||void 0===e?void 0:e.data)})).catch((function(e){console.log("err",e)}))}),[a,o]);var T=g.filter((function(e){var t=e.employee_id;return"".concat(t).toLowerCase().includes(E.toLowerCase())})).sort((function(e,t){return e.dead_km<t.dead_km?1:-1})).map((function(e,t){var n,a,r;return{key:t,carNo:null===e||void 0===e?void 0:e.car_number,name:null===e||void 0===e?void 0:e.driver_name,contactNo:null===e||void 0===e?void 0:e.mobile,employeeId:null===e||void 0===e?void 0:e.employee_id,gpsKms:null===e||void 0===e||null===(n=e.gps_kms)||void 0===n?void 0:n.toFixed(1),duty:"NULL"!==(null===e||void 0===e?void 0:e.duty.toUpperCase())?null===e||void 0===e?void 0:e.duty.toUpperCase():"-",uberKms:null===e||void 0===e||null===(a=e.uber_km)||void 0===a?void 0:a.toFixed(1),trips:null===e||void 0===e?void 0:e.trips,deadKms:null===e||void 0===e||null===(r=e.dead_km)||void 0===r?void 0:r.toFixed(1),flags:null===e||void 0===e?void 0:e.flag.toUpperCase()}}));return"loading"===t||"error"===t?null:(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"flex flex-row justify-end mb-3",children:(0,v.jsx)(u.Z,{size:"medium",placeholder:"Enter ETM Id",prefix:(0,v.jsx)("img",{className:"text-[#333333]",src:"/assets/images/general/loupe.svg",alt:"search",width:"12"}),style:{width:"320px"},className:"bg-[#F1F0F1] text-[#333333]",bordered:!0,onChange:function(e){return function(e){W(e)}(e.target.value)}})}),(0,v.jsx)(d.Z,{columns:y,dataSource:T,pagination:!1})]})})),g=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.q,{title:"Dead KM Report"}),(0,v.jsxs)("div",{style:{fontFamily:"montserrat"},className:"flex flex-col pl-3 pr-10 mb-4",children:[(0,v.jsx)("div",{className:"mt-5 mb-0",children:(0,v.jsx)("span",{className:"font-bold text-[#333333] text-2xl",children:"Dead KMs Report"})}),(0,v.jsx)(k,{})]})]})}},70895:function(e,t,n){n.d(t,{C3:function(){return u},Bq:function(){return d},Ud:function(){return l},bt:function(){return s},Yx:function(){return f},f4:function(){return m},oj:function(){return p},QT:function(){return v},a5:function(){return h},VX:function(){return y},SM:function(){return k},aC:function(){return g},fn:function(){return x},d:function(){return _},d8:function(){return D},us:function(){return E},lO:function(){return W},Om:function(){return O},Ai:function(){return T},zX:function(){return I},Xz:function(){return G},o0:function(){return b},kN:function(){return j},JL:function(){return N},nk:function(){return w},o:function(){return V},$p:function(){return B},vD:function(){return C},vB:function(){return F},tf:function(){return Z},WG:function(){return K},yz:function(){return S}});var a=n(1413),r=n(74569),c=n(88329),o=(n(71217),{Authorization:"Token ".concat(c.Z.get("token"))}),i=function(e){var t=e.url,n=e.method,c=e.headers,i=void 0===c?{}:c;try{return r({url:"".concat("https://jarvis.everestfleet.com").concat(t),method:n,headers:(0,a.Z)((0,a.Z)({},o),i)})}catch(u){return u}},u=function(){return i({url:"/fleet/api/teamApi/",method:"GET"})},d=function(e,t){var n=e.teamIDValue,a=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/hisaab_summary/".concat(n,",").concat(a,",").concat(r,"/"),method:"GET"})},l=function(e,t){var n=e.teamIDValue,a=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/hisaab_driveros/".concat(n,",").concat(a,",").concat(r,"/"),method:"GET"})},s=function(e,t){var n=e.teamIDValue,a=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/highos/".concat(n,",").concat(a,",").concat(r,"/"),method:"GET"})},f=function(e,t){var n=e.teamIDValue,a=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/recover_amt/".concat(n,",").concat(a,",").concat(r,"/"),method:"GET"})},m=function(e,t){var n=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/weekly_hisaab/".concat(e,",").concat(n,",").concat(a,"/"),method:"GET"})},p=function(e){return i({url:"/api/driver_weekly_data/".concat(e,"/"),method:"GET"})},v=function(e,t){var n=e.teamIDValue,a=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/car_summary/".concat(n,",").concat(a,",").concat(r,"/"),method:"GET"})},h=function(e,t){var n=e.startOfWeek,a=e.endOfWeek,r=t.cityIDValue;return i({url:"/api/incentive/".concat(n,",").concat(a,",").concat(r,"/"),method:"GET"})},y=function(e,t){var n=e.teamIDValue,a=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/car_inctive/".concat(n,",").concat(a,",").concat(r,"/"),method:"GET"})},k=function(e,t){var n=e.teamIDValue,a=t.startOfWeek,r=t.endOfWeek;return i({url:"/api/car_status_weekly/".concat(n,",").concat(a,",").concat(r,"/"),method:"GET"})},g=function(e,t){var n=e.teamIDValue,a=t.day;return i({url:"/api/car_status/".concat(n,",").concat(a,"/"),method:"GET"})},x=function(e,t,n){var a=t.teamIDValue,r=n.day;return i({url:"/api/cardaily/".concat(e,",").concat(a,",").concat(r,",").concat(r,"/"),method:"GET"})},_=function(e,t,n,a){var r=t.carNumberValue,c=n.teamIDValue,o=a.startOfWeek,u=a.endOfWeek;return i({url:"/api/carweekly/".concat(e,",").concat(r,",").concat(c,",").concat(o,",").concat(u,"/"),method:"GET"})},D=function(e,t,n){var a=t.teamIDValue,r=n.startOfWeek,c=n.endOfWeek;return i({url:"/api/cardaily/".concat(e,",").concat(a,",").concat(r,",").concat(c,"/"),method:"GET"})},E=function(e,t){var n=e.teamIDValue,a=t.day;return i({url:"/api/driver_rating/".concat(n,",").concat(a,"/"),method:"GET"})},W=function(e,t,n){var a=t.teamIDValue,r=n.startOfWeek,c=n.endOfWeek;return i({url:"/api/driver_weekly/".concat(e,",").concat(a,",").concat(r,",").concat(c,"/"),method:"GET"})},O=function(e,t,n,a){var r=n.teamIDValue,c=a.startOfWeek,o=a.endOfWeek;return i({url:"/api/driver_daily/".concat(t,",").concat(r,",").concat(c,",").concat(o,",").concat(e,"/"),method:"GET"})},T=function(e,t){var n=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/weekly_report/".concat(e,",").concat(n,",").concat(a,"/"),method:"GET"})},I=function(e,t){var n=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/weekly_report/uberkm/".concat(e,",").concat(n,",").concat(a,"/"),method:"GET"})},G=function(e,t){var n=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/weekly_campare/".concat(e,",").concat(n,",").concat(a,"/"),method:"GET"})},b=function(e,t){var n=t.startOfWeek,a=t.endOfWeek;return i({url:"/api/weekly_campare/uberkm/".concat(e,",").concat(n,",").concat(a,"/"),method:"GET"})},j=function(e,t){var n=e.teamIDValue,a=t.day;return i({url:"/api/dead_km/".concat(n,",").concat(a,"/"),method:"GET"})},N=function(e){var t=e.teamIDValue;return i({url:"/api/driver_report/".concat(t,"/"),method:"GET"})},w=function(e){return i({url:"/api/etm_summary/".concat(e,"/"),method:"GET"})},V=function(e){return i({url:"/api/monthly_report/".concat(e,"/"),method:"GET"})},B=function(e){return i({url:"/api/etm_cars/".concat(e,"/"),method:"GET"})},C=function(e){return i({url:"/api/driver_p/".concat(e,"/"),method:"GET"})},F=function(e){return i({url:"/api/driver_rto/".concat(e,"/"),method:"GET"})},Z=function(e){return i({url:"/api/daily_deadkm/".concat(e,"/"),method:"GET"})},K=function(e,t,n){var a=e.startOfWeek,r=e.endOfWeek,c=t.teamIDValue,o=n.day1,u=n.day2,d=n.day3,l=n.day4,s=n.day5,f=n.day6,m=n.day7;return i({url:"/fleet/driver_report?start_date=".concat(a,"+&end_date=").concat(r,"+&team_id=").concat(c,"&dates%5B%5D=").concat(o,"+&dates%5B%5D=").concat(u,"+&dates%5B%5D=").concat(d,"+&dates%5B%5D=").concat(l,"+&dates%5B%5D=").concat(s,"+&dates%5B%5D=").concat(f,"+&dates%5B%5D=").concat(m,"+"),method:"GET"})},S=function(e,t,n){var a=e.startOfWeek,r=e.endOfWeek,c=t.teamIDValue,o=n.day1,u=n.day2,d=n.day3,l=n.day4,s=n.day5,f=n.day6,m=n.day7;return i({url:"/fleet/car_report?start_date=".concat(a,"+&end_date=").concat(r,"+&team_id=").concat(c,"&dates%5B%5D=").concat(o,"+&dates%5B%5D=").concat(u,"+&dates%5B%5D=").concat(d,"+&dates%5B%5D=").concat(l,"+&dates%5B%5D=").concat(s,"+&dates%5B%5D=").concat(f,"+&dates%5B%5D=").concat(m,"+"),method:"GET"})}}}]);
//# sourceMappingURL=615.36057a42.chunk.js.map